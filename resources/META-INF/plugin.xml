<idea-plugin version="2">
    <id>com.weex.darin</id>
    <name>Weex</name>
    <version>1.0</version>
    <vendor email="taobao-mobile-test@service.alibaba.com" url="http://alibaba.github.io/weex/">Alibaba</vendor>
    <category>HTML/JavaScript Development</category>
    <depends>com.intellij.modules.xml</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.platform</depends>
    <depends>JavaScript</depends>

    <description><![CDATA[
  <ul>
    <li>支持自动实时将Weex编译成JavaScript bundle。</li>
    <li>能够在插件运行时启动本地服务，实时的将修改的内容渲染成HTML5，并显示出来</li>
    <li>支持编译带自定义组件的 Weex 源码，不过自定义组件和当前组件必须在同一目录</li>
    <li>支持以二维码的方式显示渲染内容，可用手淘或者WeexPlayground进行扫描查看渲染内容</li>
    <li>支持Webstorm，Intellij Idea，Android Studio等Intellij旗下产品</li>
    <li>JavaScript的语法提示以及高亮</li>
 </ul>
]]></description>

    <change-notes><![CDATA[
  1. 在使用上更加便捷<br>
2. 支持语法提示和高亮<br>
3. 渲染速度加快<br>
4. 支持输出 weex 文件编译结果</p>
]]>
    </change-notes>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
    <idea-version since-build="141.*"/>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <fileTypeFactory implementation="com.darin.weex.language.WeexFileTYpeFactory"/>
        <fileEditorProvider implementation="com.darin.weex.ui.preview.WeexEditorProvider"/>

        <applicationConfigurable id="Settings.Weex.Preview"
                                 groupId="language"
                                 nonDefaultProject="true"
                                 instance="com.darin.weex.settings.WeexApplicationSettings">
        </applicationConfigurable>

        <editorNotificationProvider
                implementation="com.darin.weex.ui.preview.WeexLocalBuildPathSetNotificationProvider"/>
        implementationClass="com.darin.weex.highlighter.WeexSyntaxHighlighterFactory"/>


        <lang.parserDefinition language="Weex" implementationClass="com.darin.weex.language.parser.WeexParserDefinition"/>
    </extensions>

    <actions>

        <action id="Weex.NewWeexFile" class="com.darin.weex.ui.actions.newFile.WeexCreateFileAction"
                text="Weex File" description="Create new Weex file">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>
        <group id="Weex.Toolbar.Left" class="com.intellij.openapi.actionSystem.DefaultActionGroup"
               text="Weex editor actions">
            <!--<action class="com.darin.weex.ui.actions.logsAndQrCode.ToggleLogsWeexWeex"-->
            <!--id="com.darin.weex.ui.actions.logsAndQrCode.ToggleLogsWeexWeex"-->
            <!--text="Display build logs"-->
            <!--description="display build logs"-->
            <!--icon="/icons/actions/Info.png">-->
            <!--</action>-->

            <action class="com.darin.weex.ui.actions.logsAndQrCode.WeexToogleStartServe"
                    id="ocom.darin.weex.ui.actions.logsAndQrCode.ToogleStartServe"
                    text="Restart the npm serve"
                    description="Restart the npm serve"
                    icon="/icons/actions/server_off.png">
            </action>

            <action class="com.darin.weex.ui.actions.logsAndQrCode.WeexToggleQrCode"
                    id="ocom.darin.weex.ui.actions.logsAndQrCode.ToggleQrCode"
                    text="display QR Code"
                    description="display QR code of weex transformed javascript"
                    icon="/icons/actions/Qrcode.png">
            </action>
            <!--<action class="com.darin.weex.ui.actions.logsAndQrCode.WeexToggleHotReload"-->
            <!--id="ocom.darin.weex.ui.actions.logsAndQrCode.ToggleHotReload"-->
            <!--text="display Hot reload QR Code"-->
            <!--description="display QR code of weex transformed javascript"-->
            <!--icon="/icons/actions/h.png">-->
            <!--</action>-->
        </group>


        <group id="Weex.Toolbar.Right" class="com.intellij.openapi.actionSystem.DefaultActionGroup"
               text="Weex editor layout actions">
            <action class="com.darin.weex.ui.actions.editorLayout.WeexEditorOnlyLayoutChangeAction"
                    id="com.darin.weex.ui.actions.editorLayout.WeexEditorOnlyLayoutChangeAction"
                    text="Show editor only"
                    description="Sets weex editor layout to show editor only"
                    icon="/icons/layout/Editor_only.png">
            </action>
            <action class="com.darin.weex.ui.actions.editorLayout.WeexEditorAndPreviewLayoutChangeAction"
                    id="com.darin.weex.ui.actions.editorLayout.WeexEditorAndPreviewLayoutChangeAction"
                    text="Show editor and preview"
                    description="Sets weex editor layout to show editor and preview in split"
                    icon="/icons/layout/Editor_preview.png">
            </action>
            <action class="com.darin.weex.ui.actions.editorLayout.WeexPreviewOnlyLayoutChangeAction"
                    id="com.darin.weex.ui.actions.editorLayout.WeexPreviewOnlyLayoutChangeAction"
                    text="Show preview only"
                    description="Sets weex editor layout to show preview only"
                    icon="/icons/layout/Preview_only.png">
            </action>

        </group>

    </actions>

    <application-components>
        <component>
            <implementation-class>com.darin.weex.WeexApplication</implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <implementation-class>com.darin.weex.WeexProject</implementation-class>
        </component>
    </project-components>
</idea-plugin>